import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as h,b as i,d,a as c,w as s,r as p,o,e as r}from"./app-DywCN-wo.js";const k={};function g(y,t){const l=p("Tabs");return o(),h("div",null,[t[6]||(t[6]=i("h1",{id:"script-标签中的属性",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#script-标签中的属性"},[i("span",null,"script 标签中的属性")])],-1)),t[7]||(t[7]=i("h2",{id:"async-defer",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#async-defer"},[i("span",null,"async && defer")])],-1)),d(l,{data:[{id:"normal"},{id:"async"},{id:"defer"}]},{title0:s(({value:e,isActive:a})=>[...t[0]||(t[0]=[r("normal",-1)])]),title1:s(({value:e,isActive:a})=>[...t[1]||(t[1]=[r("async",-1)])]),title2:s(({value:e,isActive:a})=>[...t[2]||(t[2]=[r("defer",-1)])]),tab0:s(({value:e,isActive:a})=>[...t[3]||(t[3]=[i("div",{class:"language-html line-numbers-mode","data-highlighter":"shiki","data-ext":"html",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",{class:"language-html"},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"script"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," src"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"="),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"script.js"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"></"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"script"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},">")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"})])],-1),i("p",null,"浏览器在解析 HTML 的时候，如果遇到一个没有任何属性的 script 标签，就会暂停解析，先发送网络请求获取该 JS 脚本的代码内容，然后让 JS 引擎执行该代码，当代码执行完毕后恢复解析。",-1)])]),tab1:s(({value:e,isActive:a})=>[...t[4]||(t[4]=[i("div",{class:"language-html line-numbers-mode","data-highlighter":"shiki","data-ext":"html",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",{class:"language-html"},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"script"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," src"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"="),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"script.js"'),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," async"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"></"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"script"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},">")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"})])],-1),i("p",null,"当浏览器遇到带有 async 属性的 script 时，请求该脚本的网络请求是异步的，不会阻塞浏览器解析 HTML，一旦网络请求回来之后，如果此时 HTML 还没有解析完，浏览器会暂停解析，先让 JS 引擎执行代码，执行完毕后再进行解析。因为执行时间不确定，所以 async 是不可控的，如果存在多个 async-script 的时候，它们之间的执行顺序也不确定，完全依赖于网络传输结果，谁先到执行谁。",-1)])]),tab2:s(({value:e,isActive:a})=>[...t[5]||(t[5]=[i("div",{class:"language-html line-numbers-mode","data-highlighter":"shiki","data-ext":"html",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",{class:"language-html"},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"<!-- defer 属性对模块脚本没有作用 —— 默认defer -->")]),r(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"script"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," src"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"="),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"script.js"'),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," defer"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"></"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"script"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},">")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),i("p",null,"当浏览器遇到带有 defer 属性的 script 时，获取该脚本的网络请求也是异步的，不会阻塞浏览器解析 HTML，一旦网络请求回来之后，如果此时 HTML 还没有解析完，浏览器不会暂停解析并执行 JS 代码，而是等待 HTML 解析完毕再执行 JS 代码。如果存在多个 defer-script 标签，浏览器(IE9 及以下除外)会保证它们按照在 HTML 中出现的顺序执行，不会破坏 JS 脚本之间的依赖关系。",-1)])]),_:1}),t[8]||(t[8]=c('<table><thead><tr><th>script 标签</th><th>JS 执行顺序</th><th>是否阻塞解析 HTML</th></tr></thead><tbody><tr><td><code>&lt;script&gt;</code></td><td>在 HTML 中的顺序</td><td>阻塞</td></tr><tr><td><code>&lt;script async&gt;</code></td><td>网络请求返回顺序</td><td>可能阻塞，也可能不阻塞</td></tr><tr><td><code>&lt;script defer&gt;</code></td><td>在 HTML 中的顺序</td><td>不阻塞</td></tr></tbody></table><h3 id="区别" tabindex="-1"><a class="header-anchor" href="#区别"><span>区别</span></a></h3><ul><li>defer 是“渲染完再执行”，async 是“下载完就执行”。</li><li>如果有多个 defer 脚本，会按照它们在页面出现的顺序加载，而多个 async 脚本是不能保证加载顺序的；</li></ul><p><strong>注意：如果同时指定了两个属性，则会遵从 async 属性而忽略 defer 属性</strong></p><h2 id="src" tabindex="-1"><a class="header-anchor" href="#src"><span>src</span></a></h2><p>这个属性定义引用外部脚本的 URI，这可以用来代替直接在文档中嵌入脚本。指定了 src 属性的 script 元素标签内不应该再有嵌入的脚本。</p><h2 id="type" tabindex="-1"><a class="header-anchor" href="#type"><span>type</span></a></h2><p>该属性定义 script 元素包含或 src 引用的脚本语言。属性的值为 MIME 类型，但大部分已不赞成使用，如果不是支持的类型所包含的内容则会被当做数据块而不被执行。如果属性为 module，代码会被当做 javascript 模块。</p><h2 id="crossorigin" tabindex="-1"><a class="header-anchor" href="#crossorigin"><span>crossorigin</span></a></h2><p>相当于开启了 cors 校验，跨域的 script 资源在运行出错的时候，window.onerror 可以捕获到完整的错误信息。</p><ul><li>anonymous - 不携带 cookie 等认证信息</li><li>use-credentials - 携带 cookie 等认证信息</li></ul><h2 id="integrity" tabindex="-1"><a class="header-anchor" href="#integrity"><span>integrity</span></a></h2><p>指定了该值之后，浏览器在拿到资源后会用 integrity 指定的签名算法对资源进行计算并与 摘要签名内容 进行比较，如果值不统一，说明是经过篡改的，就不会执行该资源</p>',13))])}const A=n(k,[["render",g]]),b=JSON.parse('{"path":"/web/HTML/script%E6%A0%87%E7%AD%BE%E4%B8%AD%E7%9A%84%E5%B1%9E%E6%80%A7.html","title":"script 标签中的属性","lang":"zh-CN","frontmatter":{"date":"2022-06-11T00:00:00.000Z","category":["web"],"tag":["HTML"],"description":"script 标签中的属性 async && defer 区别 defer 是“渲染完再执行”，async 是“下载完就执行”。 如果有多个 defer 脚本，会按照它们在页面出现的顺序加载，而多个 async 脚本是不能保证加载顺序的； 注意：如果同时指定了两个属性，则会遵从 async 属性而忽略 defer 属性 src 这个属性定义引用外部脚本...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"script 标签中的属性\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-06-11T00:00:00.000Z\\",\\"dateModified\\":\\"2024-03-25T00:37:54.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"utaware\\",\\"url\\":\\"https://github.com/utaware\\"}]}"],["meta",{"property":"og:url","content":"https://github.com/utaware/web/HTML/script%E6%A0%87%E7%AD%BE%E4%B8%AD%E7%9A%84%E5%B1%9E%E6%80%A7.html"}],["meta",{"property":"og:site_name","content":"utaware"}],["meta",{"property":"og:title","content":"script 标签中的属性"}],["meta",{"property":"og:description","content":"script 标签中的属性 async && defer 区别 defer 是“渲染完再执行”，async 是“下载完就执行”。 如果有多个 defer 脚本，会按照它们在页面出现的顺序加载，而多个 async 脚本是不能保证加载顺序的； 注意：如果同时指定了两个属性，则会遵从 async 属性而忽略 defer 属性 src 这个属性定义引用外部脚本..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-03-25T00:37:54.000Z"}],["meta",{"property":"article:tag","content":"HTML"}],["meta",{"property":"article:published_time","content":"2022-06-11T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-03-25T00:37:54.000Z"}]]},"git":{"createdTime":1656945867000,"updatedTime":1711327074000,"contributors":[{"name":"utaware","username":"utaware","email":"1264051408@qq.com","commits":4,"url":"https://github.com/utaware"}]},"readingTime":{"minutes":2.71,"words":812},"filePathRelative":"web/HTML/script标签中的属性.md","excerpt":"","autoDesc":true}');export{A as comp,b as data};

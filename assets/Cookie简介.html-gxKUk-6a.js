import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as s,o as t}from"./app-DywCN-wo.js";const n={};function o(h,i){return t(),a("div",null,[...i[0]||(i[0]=[s(`<h1 id="cookie简介" tabindex="-1"><a class="header-anchor" href="#cookie简介"><span>Cookie简介</span></a></h1><h2 id="基本特性" tabindex="-1"><a class="header-anchor" href="#基本特性"><span>基本特性</span></a></h2><h3 id="_1-存储限制" tabindex="-1"><a class="header-anchor" href="#_1-存储限制"><span>1. 存储限制</span></a></h3><ul><li>大小限制：单条 Cookie 通常不超过 4KB（不同浏览器略有差异）。</li><li>数量限制：每个域名下的 Cookie 数量通常限制在 50 条左右（不同浏览器不同）。</li></ul><h3 id="_2-生命周期" tabindex="-1"><a class="header-anchor" href="#_2-生命周期"><span>2. 生命周期</span></a></h3><ul><li><strong>会话 Cookie</strong>：默认情况下，Cookie 在浏览器关闭后自动删除（无过期时间）。</li><li><strong>持久 Cookie</strong>：通过设置 <code>expires</code> 或 <code>max-age</code> 定义过期时间，过期后自动删除。</li></ul><h3 id="_3-域名与路径限制" tabindex="-1"><a class="header-anchor" href="#_3-域名与路径限制"><span>3. 域名与路径限制</span></a></h3><ul><li><strong>域名（Domain）</strong>：Cookie 仅会发送到指定域名及其子域名（默认是当前域名，不包含子域名）。</li><li><strong>路径（Path）</strong>：限制 Cookie 仅在指定路径下生效（如 <code>/admin</code> 路径下的 Cookie 不会在 <code>/home</code> 路径发送）。</li></ul><h3 id="_4-安全性相关" tabindex="-1"><a class="header-anchor" href="#_4-安全性相关"><span>4. 安全性相关</span></a></h3><ul><li><strong>HttpOnly</strong>：设置后，前端 JavaScript 无法通过 <code>document.cookie</code> 访问（防止 XSS 攻击窃取 Cookie）。</li><li><strong>Secure</strong>：仅在 HTTPS 协议下才会发送 Cookie（防止中间人攻击）。</li><li><strong>SameSite</strong>：限制跨站请求时 Cookie 的发送（防止 CSRF 攻击），取值： <ul><li><code>Strict</code>：完全禁止跨站发送。</li><li><code>Lax</code>：允许部分跨站请求（如链接跳转）发送（默认值）。</li><li><code>None</code>：允许跨站发送，但必须同时设置 <code>Secure</code>。</li></ul></li></ul><h2 id="工作流程" tabindex="-1"><a class="header-anchor" href="#工作流程"><span>工作流程</span></a></h2><h3 id="服务器设置-cookie" tabindex="-1"><a class="header-anchor" href="#服务器设置-cookie"><span>服务器设置 Cookie</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 响应头</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Set-Cookie:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> username=zhangsan</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">expires</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Fri,</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> 31</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Dec</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2025</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 23:59:59</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> GMT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">path</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">domain</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">example.com</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">HttpOnly</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Secure</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">SameSite</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Lax</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="客户端发送-cookie" tabindex="-1"><a class="header-anchor" href="#客户端发送-cookie"><span>客户端发送 Cookie</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 请求头</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Cookie:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> username=zhangsan</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">token</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">abc123</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="对比" tabindex="-1"><a class="header-anchor" href="#对比"><span>对比</span></a></h2><h3 id="局限性" tabindex="-1"><a class="header-anchor" href="#局限性"><span>局限性</span></a></h3><ul><li>存储容量小（4KB），不适合大量数据。</li><li>每次请求都会自动发送到服务器，增加网络开销。</li><li>安全性依赖 HttpOnly、Secure 等属性，配置不当易引发安全风险。</li></ul><h3 id="替代方案" tabindex="-1"><a class="header-anchor" href="#替代方案"><span>替代方案</span></a></h3><ul><li><strong>LocalStorage</strong>: 持久化存储（无过期时间），容量更大（通常 5-10MB），仅前端访问，不随请求发送。</li><li><strong>SessionStorage</strong>: 会话级存储（页面关闭后删除），容量较大，仅当前标签页可见。</li><li><strong>IndexedDB</strong>: 大型结构化数据存储（容量可达 GB 级），支持异步操作。</li></ul><h2 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项"><span>注意事项</span></a></h2><ol><li>防止 XSS 攻击：敏感 Cookie（如认证令牌）必须设置 HttpOnly，避免前端 JS 读取。</li><li>防止 CSRF 攻击：设置 SameSite=Lax 或 SameSite=Strict，并配合 CSRF Token 验证。</li><li>敏感数据加密：Cookie 中的敏感信息（如用户 ID）需加密存储，避免明文泄露。</li><li>HTTPS 传输：涉及用户信息的 Cookie 应设置 Secure，确保仅通过 HTTPS 传输。</li><li>合规性：遵守隐私法规，如欧盟 GDPR 要求用户同意后才能存储非必要 Cookie。</li></ol>`,22)])])}const k=e(n,[["render",o]]),p=JSON.parse('{"path":"/web/Auth/Cookie%E7%AE%80%E4%BB%8B.html","title":"Cookie简介","lang":"zh-CN","frontmatter":{"date":"2025-11-05T00:00:00.000Z","category":["web"],"tag":["auth"],"description":"Cookie简介 基本特性 1. 存储限制 大小限制：单条 Cookie 通常不超过 4KB（不同浏览器略有差异）。 数量限制：每个域名下的 Cookie 数量通常限制在 50 条左右（不同浏览器不同）。 2. 生命周期 会话 Cookie：默认情况下，Cookie 在浏览器关闭后自动删除（无过期时间）。 持久 Cookie：通过设置 expires ...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Cookie简介\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-11-05T00:00:00.000Z\\",\\"dateModified\\":\\"2025-11-15T22:13:27.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"utaware\\",\\"url\\":\\"https://github.com/utaware\\"}]}"],["meta",{"property":"og:url","content":"https://github.com/utaware/web/Auth/Cookie%E7%AE%80%E4%BB%8B.html"}],["meta",{"property":"og:site_name","content":"utaware"}],["meta",{"property":"og:title","content":"Cookie简介"}],["meta",{"property":"og:description","content":"Cookie简介 基本特性 1. 存储限制 大小限制：单条 Cookie 通常不超过 4KB（不同浏览器略有差异）。 数量限制：每个域名下的 Cookie 数量通常限制在 50 条左右（不同浏览器不同）。 2. 生命周期 会话 Cookie：默认情况下，Cookie 在浏览器关闭后自动删除（无过期时间）。 持久 Cookie：通过设置 expires ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-11-15T22:13:27.000Z"}],["meta",{"property":"article:tag","content":"auth"}],["meta",{"property":"article:published_time","content":"2025-11-05T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-11-15T22:13:27.000Z"}]]},"git":{"createdTime":1763244807000,"updatedTime":1763244807000,"contributors":[{"name":"utaware","username":"utaware","email":"1264051408@qq.com","commits":1,"url":"https://github.com/utaware"}]},"readingTime":{"minutes":2.08,"words":625},"filePathRelative":"web/Auth/Cookie简介.md","excerpt":"","autoDesc":true}');export{k as comp,p as data};
